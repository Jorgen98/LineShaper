<div class="content" [ngSwitch]="state">
    <!-- Default menu screen -->
    <p class="header" *ngSwitchCase="'menu'">Trasování linek</p>
    <div *ngSwitchCase="'menu'">
        <button (click)="routeAllRoutes()">Trasování všech linek</button>
        <button (click)="routeOneLine()">Trasování jedné linky</button>
        <button (click)="stopToStopRoutingStart()">Trasování mezi dvěma zastávkami</button>
    </div>
    <!-- Route all lines screen -->
    <p class="header" *ngSwitchCase="'routeAllRoutes'">Trasování všech linek</p>
    <div *ngSwitchCase="'routeAllRoutes'">
        <p *ngIf="dataAvailable" class="header">{{ progressText }}</p>
        <button *ngIf="dataAvailable" (click)="state = 'routeAllRoutesConfirm'; progressText='Novým trasováním se přepíší aktuálně vypočítaná data.'">Znovu vypočítat trasy</button>
        <button *ngIf="!dataAvailable" (click)="routeAll()">Vypočítat trasy</button>
        <button *ngIf="dataAvailable" (click)="downloadData()">Stáhnout trasy linek</button>
        <button (click)="defaultMenu()">Menu</button>
    </div>
    <!-- Route all confirm screen -->
    <p class="header" *ngSwitchCase="'routeAllRoutesConfirm'">{{ progressText }}</p>
    <div *ngSwitchCase="'routeAllRoutesConfirm'">
        <button (click)="routeAllRoutes()">Menu</button>
        <button (click)="routeAll()">Znovu vypočítat trasy</button>
    </div>
    <!-- Route one screen -->
    <div *ngSwitchCase="'routeOneLine'">
        <p class="header">Zvolte si linku</p>
        <div class="option" (change)="setLineEnds()">
            <select [(ngModel)]="curLine" class="js-example-basic-single">
                <option *ngFor="let item of curLines" [value]="item.code">{{ item.name + '/' + item.code }}</option>
            </select>
        </div>
        <p class="header" *ngSwitchCase="'routeOneLine'">Zvolte si směr</p>
        <div class="option">
            <select [(ngModel)]="curDir">
                <option *ngFor="let item of curLineEnds" [value]="item.dir">{{ item.name }}</option>
            </select>
        </div>
        <button (click)="getRoute()">Vypočítat trasu</button>
        <button (click)="defaultMenu()">Menu</button>
    </div>
    <!-- One route progress screen -->
    <div *ngSwitchCase="'routingProgress'">
        <p class="header" *ngSwitchCase="'routingProgress'">Probíhá výpočet trasy. Vyčkejte prosím.</p>
    </div>
    <!-- Route one result screen -->
    <div *ngSwitchCase="'routeOneLineRes'">
        <p class="header">{{ progressText }}</p>
        <button (click)="getRoute()">Znovu vypočítat trasu</button>
        <button (click)="exportOneLine()">Exportovat vybraný směr trasy</button>
        <button (click)="exportOneLine(true)">Exportovat všechny směry trasy</button>
        <button (click)="defaultMenu()">Menu</button>
    </div>
    <!-- Progress screen -->
    <p class="header" *ngSwitchCase="'progress'">{{ progressText }}</p>
    <div *ngSwitchCase="'progress'">
        <div class="progress" [style.width]="progress+'%'" *ngIf="progress !== 100 && progress !== 0">
            {{ progress + '%'}}
        </div>
        <button *ngIf="routing" (click)="defaultMenu()">Zavřít</button>
        <button *ngIf="routing && progress !== 100 && progress !== 0" (click)="cancelRouting()">Zrušit</button>
    </div>
    <!-- Stop to stop routing screen 1 -->
    <p class="header" *ngSwitchCase="'stopToStop0'">Zvolte si výchozí zastávku.</p>
    <div *ngSwitchCase="'stopToStop0'">
        <button (click)="defaultMenu()">Zrušit</button>
    </div>
    <!-- Stop to stop routing screen 2 -->
    <p class="header" *ngSwitchCase="'stopToStop1'">Vyberte si konečnou zastávku.</p>
    <div *ngSwitchCase="'stopToStop1'">
        <button (click)="defaultMenu()">Zrušit</button>
    </div>
    <!-- Stop to stop routing screen 3 -->
    <p class="header" *ngSwitchCase="'stopToStop2'">Zvolte si druh dopravy.</p>
    <div *ngSwitchCase="'stopToStop2'">
        <div class="optionsGroup">
            <div class="option">
                <div class="img">
                    <img src="assets/icons/train.svg" (click)="routeStopToStop('rail')">
                </div>
            </div>
        
            <div class="option">
                <div class="img">
                    <img src="assets/icons/road.svg" (click)="routeStopToStop('road')">
                </div>
            </div>
        
            <div class="option">
                <div class="img">
                    <img src="assets/icons/tram.svg" (click)="routeStopToStop('tram')">
                </div>
            </div>
        </div>
        <button (click)="defaultMenu()">Zrušit</button>
    </div>
    <!-- Stop to stop result screen -->
    <div *ngSwitchCase="'stopToStopRes'">
        <p class="header">{{ progressText }}</p>
        <button (click)="getStopToStop()">Znovu vypočítat trasu</button>
        <button (click)="defaultMenu()">Menu</button>
    </div>
    <!-- Stop to stop routing screen warning -->
    <p class="header" *ngSwitchCase="'stopToStopWarning'">Počáteční a koncová zastávka nemohou být stejné. Vyberte si jinou konečnou zastávku.</p>
    <div *ngSwitchCase="'stopToStopWarning'">
        <button (click)="defaultMenu()">Zrušit</button>
    </div>
</div>